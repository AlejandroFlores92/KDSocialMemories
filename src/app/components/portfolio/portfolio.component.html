<section class="portfolio" id="portfolio">
  <div class="container">
    <h2>Nuestro Portafolio</h2>
    <p class="section-description">Capturando momentos inolvidables</p>
    
    <div class="filters">
      <button 
        *ngFor="let category of categories" 
        [class.active]="selectedCategory === category"
        (click)="filterItems(category)">
        {{category}}
      </button>
    </div>

    <div class="portfolio-grid">
      <div class="portfolio-item" *ngFor="let item of filteredItems" [class.video-item]="item.type === 'video'">
        <div class="media-container">
          <ng-container [ngSwitch]="item.type">
            <!-- Image content -->
            <img *ngSwitchCase="'image'"
                 [src]="item.mediaUrl"
                 [alt]="item.title"
                 loading="lazy">
            
            <!-- Video content with optimized loading -->
            <video *ngSwitchCase="'video'"
                   [poster]="item.thumbnailUrl"
                   muted
                   loop
                   playsinline
                   preload="metadata"
                   loading="lazy">
              <source [src]="item.mediaUrl" type="video/mp4">
              Tu navegador no soporta videos HTML5.
            </video>
            
          </ng-container>

          
        </div>
      </div>
    </div>
  </div>
</section>